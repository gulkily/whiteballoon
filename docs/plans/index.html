<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <title>Plan Status Report</title>
  <style>
    :root {
      color-scheme: light dark;
      --bg: #ffffff;
      --fg: #111111;
      --table-border: #cccccc;
      --header-bg: #f2f2f2;
    }
    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #1d1f21;
        --fg: #f7f7f7;
        --table-border: #555;
        --header-bg: #2a2d30;
      }
    }
    [data-theme="dark"] {
      --bg: #1d1f21;
      --fg: #f7f7f7;
      --table-border: #555;
      --header-bg: #2a2d30;
    }
    body { background: var(--bg); color: var(--fg); font-family: Arial, sans-serif; margin: 2rem; transition: background 0.3s ease, color 0.3s ease; }
    table { border-collapse: collapse; width: 100%; margin-bottom: 2rem; }
    th, td { border: 1px solid var(--table-border); padding: 0.5rem; text-align: left; }
    th { background: var(--header-bg); }
    h2 { margin-top: 2rem; }
    .toggle-wrapper { text-align: right; margin-bottom: 1rem; }
    .toggle-wrapper button { padding: 0.4rem 0.8rem; }
  </style>
</head>
<body>
  <div class="toggle-wrapper">
    <button id="theme-toggle" aria-label="Toggle theme">Toggle theme</button>
  </div>
  <h1>Plan Status Report</h1>
  <h2>Active Plans</h2>
  <ul>
    <li>comment_llm_insights_frontend (Stages 4 execution log)</li>
    <li>comment_insights_dashboard (Step 4 summary)</li>
    <li>comment_insights_inline (Step 4 summary)</li>
    <li>comment_insights_export (Step 4 summary)</li>
    <li>comment_llm_tag_store (Step 4 summary)</li>
  </ul>
  <h2>Archive</h2>
  <ul>
    <li><a href="archive/account_profile_edit/">account_profile_edit</a></li>
    <li><a href="archive/admin_init_db_output/">admin_init_db_output</a></li>
    <li><a href="archive/admin_profiles_directory/">admin_profiles_directory</a></li>
  </ul>
  <h2>Todo Items</h2>
  <ol>
    <li>allow encrypting packets for specific clients (public key)</li>
    <li>entry page with door opening / image invites</li>
    <li>better login flow & approvals (cross-login, half-login, dedalus assist)</li>
    <li>promote comment to request</li>
    <li>sub-comments</li>
    <li>surface most interesting/insightful comments</li>
    <li>extend LLM rubric for supportive profiles</li>
  </ol>
  <script>
    const toggleBtn = document.getElementById('theme-toggle');
    const root = document.documentElement;
    const stored = localStorage.getItem('plan_theme');
    if (stored) {
      root.setAttribute('data-theme', stored);
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
      root.setAttribute('data-theme', 'dark');
    }
    toggleBtn.addEventListener('click', () => {
      const current = root.getAttribute('data-theme');
      const next = current === 'dark' ? 'light' : 'dark';
      root.setAttribute('data-theme', next);
      localStorage.setItem('plan_theme', next);
    });
  </script>
</body>
</html>
